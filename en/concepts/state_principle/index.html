<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-en docs-version-current docs-doc-page docs-doc-id-concepts/state_principle" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Introduction to State Principles | TuGraph Analytics</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://liukaiming-alipay.github.io/tugraph-analytics/en/concepts/state_principle"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-en-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-en-current"><meta data-rh="true" property="og:title" content="Introduction to State Principles | TuGraph Analytics"><meta data-rh="true" name="description" content="State Management in Geaflow"><meta data-rh="true" property="og:description" content="State Management in Geaflow"><link data-rh="true" rel="icon" href="https://mdn.alipayobjects.com/huamei_qcdryc/afts/img/A*AbamQ5lxv0IAAAAAAAAAAAAADgOBAQ/original"><link data-rh="true" rel="canonical" href="https://liukaiming-alipay.github.io/tugraph-analytics/en/concepts/state_principle"><link data-rh="true" rel="alternate" href="https://liukaiming-alipay.github.io/tugraph-analytics/en/concepts/state_principle" hreflang="en"><link data-rh="true" rel="alternate" href="https://liukaiming-alipay.github.io/tugraph-analytics/en/concepts/state_principle" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://HO4M21RAQI-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/tugraph-analytics/blog/rss.xml" title="TuGraph Analytics RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/tugraph-analytics/blog/atom.xml" title="TuGraph Analytics Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="TuGraph Analytics" href="/tugraph-analytics/opensearch.xml">

<meta name="algolia-site-verification" content="4AB782AC2021573E"><link rel="stylesheet" href="/tugraph-analytics/assets/css/styles.58f3a227.css">
<script src="/tugraph-analytics/assets/js/runtime~main.b6dda648.js" defer="defer"></script>
<script src="/tugraph-analytics/assets/js/main.85c50c04.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/tugraph-analytics/"></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="docsearch-wrapper" style="display:flex;justify-content:center;flex-direction:column"><div style="display:flex;justify-content:space-between;margin-bottom:8px"><div class="itemWrapper"><div class="titleBlock"><span class="titleText">TuGraph Analytics</span><div class="downIcon"></div></div><div class="contentArea"><span id="engineDescription">Streaming Graph Computing Engine</span></div></div><div class="searchWrapper" aria-describedby=":R4llaqh:"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tugraph-analytics/en/guide">Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tugraph-analytics/en/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-analytics/en/quick_start/quick_start">Quick Start</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/tugraph-analytics/en/concepts/glossary">Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tugraph-analytics/en/concepts/glossary">Glossary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tugraph-analytics/en/concepts/dsl_principle">DSL Principle Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tugraph-analytics/en/concepts/framework_principle">Framework Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/tugraph-analytics/en/concepts/state_principle">Introduction to State Principles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tugraph-analytics/en/concepts/console_principle">GeaFlow Console Platform</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-analytics/en/application-development/api/overview">Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-analytics/en/deploy/install_guide">Deployment</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tugraph-analytics/en/contribution">Contribution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tugraph-analytics/en/contacts">Contacts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tugraph-analytics/en/thanks">Thanks</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-analytics/en/reference/vs_join">Reference</a></div></li></ul></nav></div></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/tugraph-analytics/en/guide"><div style="color:#1a1b2572">Docs</div></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Concepts</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Introduction to State Principles</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Introduction to State Principles</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="state-management-in-geaflow">State Management in Geaflow<a href="#state-management-in-geaflow" class="hash-link" aria-label="Direct link to State Management in Geaflow" title="Direct link to State Management in Geaflow">​</a></h2>
<p>In Geaflow, state refers to the intermediate calculation results of directly calculated nodes during graph and flow computation processes. This intermediate result may be organized source data information or some results generated by calculation. State management is responsible for the storage and access of this data as well as consistency assurance. As the central data hub of Geaflow, its functional model, performance, and reliability directly affect the entire use process of Geaflow, and it is the foundation of the entire system.</p>
<ul>
<li>
<p>In terms of the function, it supports Geaflow&#x27;s real-time, multi-mode dynamic graph engine, including low-latency flow graph fusion computation, high-performance long-cycle graph simulation, large-scale dynamic graph exploration, and more.</p>
</li>
<li>
<p>In terms of the computation model, the state management in Geaflow belongs to the combination of real-time model and graph model. It needs to overcome the processing mechanism with state in real-time computing, low latency, fault tolerance, and recovery mechanisms. Additionally, it also needs to solve the problems of complex data, high association, data-driven computation, and large intermediate results in graph models.</p>
</li>
<li>
<p>In terms of performance, state management needs to solve the problem of achieving high throughput and low-latency storage and query capabilities under the premise of low cost, multiple scenarios, and large-scale data. This includes accessing data at the scale of trillions of edges, accessing larger attribute information, and random and traversal access with multiple pushdown semantics.</p>
</li>
</ul>
<p>Therefore, we have the following architecture diagram, which is flexible and supports multiple pluggable components.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="state-architecture">State Architecture<a href="#state-architecture" class="hash-link" aria-label="Direct link to State Architecture" title="Direct link to State Architecture">​</a></h3>
<p><img decoding="async" loading="lazy" alt="state_arch" src="/tugraph-analytics/assets/images/state_arch_new-d419a2e40116f97094862b53bebaf776.png" width="2232" height="446" class="img_ev3q"></p>
<ul>
<li><strong>State API</strong>: Provides an API for key-value storage operations, such as get/put/delete. It also provides APIs for graph storage, such as V/E/VE, and operations for adding/updating/deleting vertices and edges.</li>
<li><strong>State Execution Layer</strong>: Implements data sharding and scalability through the design of KeyGroups. Accessor provides IO abstractions for different read/write strategies and data models. StateOperator abstracts the storage layer SPI, including operations like finish (flushing to disk), archive (checkpoint), compact (compression), recover (recovery), etc. Additionally, State provides various pushdown optimizations to accelerate IO access efficiency. Customized memory management and attribute-based secondary indexing are also provided for storage access optimization.</li>
<li><strong>Store Layer</strong>: GeaFlow supports multiple types of storage systems and encapsulates schemas, serializers, and
data version information through StoreContext. This layer deals with how in-memory data structures are mapped to storage structures. Currently, storage engines include Redis, Rocksdb (GeaFlow&#x27;s proprietary storage system), which provide services through SPI. Depending on the characteristics of the storage engine, they may support different data models. For example, all data structures in Rocksdb need to be mapped to key-value pairs, while Redis inherently provides advanced data structures like lists/maps.</li>
<li><strong>Persistence Layer</strong>: GeaFlow State itself does not provide persistence capability. If a machine failure or disk corruption occurs, data loss may happen. Therefore, it relies on external components to provide persistence storage. These components are also pluggable and can support distributed file storage or object storage, such as HDFS/OSS/S3, etc.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="state-operational-process">State Operational Process<a href="#state-operational-process" class="hash-link" aria-label="Direct link to State Operational Process" title="Direct link to State Operational Process">​</a></h2>
<p>The life of State shows below:</p>
<p><img decoding="async" loading="lazy" alt="state_flow" src="/tugraph-analytics/assets/images/state_flow-1d20c7f8a4157ef55cc8ba4579ca9391.png" width="1429" height="487" class="img_ev3q"></p>
<p>When failOver happens, it will recover from the last persistent data. The following is the detailed process.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="state-creation">State Creation<a href="#state-creation" class="hash-link" aria-label="Direct link to State Creation" title="Direct link to State Creation">​</a></h3>
<p>The data processed by State is already divided into each partition dimension by the framework layer.</p>
<p>All State requests go through the StateFactory, and different States can be requested based on different Descriptors.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">buildGraphState(GraphStateDescriptor, Configuration):GraphState</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">buildKeyValueState(KeyValueStateDescriptor, Configuration):KeyValueState</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">buildKeyListState(KeyListDescriptor, Configuration):KeyListState</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">buildKeyMapState(KeyMapStateDescriptor, Configuration):KeyMapState</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The Descriptor needs to declare basic information, including State name, Store type, etc. Different State names correspond to isolated States, and different States can be requested to represent different scenarios. For example, a Memory Store State can be requested as a temporary storage or calculation intermediate.</p>
<p>The choice of Store type is closely related to storage performance. For example, for Key State, if the underlying Store supports the KMap method, it will directly use the functions of KMap, which can perform incremental subkey operations. If it does not support KMap, it will be converted to a KV-model State, and the entire Map will be operated on, which will greatly magnify the size of both read and write operations.</p>
<p>After creation, we also need to read and write to the State.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="state-read-and-write">State Read and Write<a href="#state-read-and-write" class="hash-link" aria-label="Direct link to State Read and Write" title="Direct link to State Read and Write">​</a></h3>
<p>Depending on the different types of State requested as mentioned above, they have different ways of reading and writing, which will be discussed in the end of the document.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="state-persistency">State Persistency<a href="#state-persistency" class="hash-link" aria-label="Direct link to State Persistency" title="Direct link to State Persistency">​</a></h3>
<p>In a computing task, if there is an exceptional circumstance such as a machine failure, the state data stored on the disk can be lost. To enable normal rollback, State also needs to consider the ability of persistence, so that the machine that is reassigned can retrieve the State data and continue computing.</p>
<p>In each computing task, users need to periodically do a checkpoint to persist the data and ensure the safety of the state data. This can be done after a batch of tasks is completed, or after the derivative task is completed. The timing of the checkpoint should be consistent with the source offset. Only when both the state checkpoint and source offset are saved, can it be considered that all state data of this job has been persisted.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="state-recovery">State Recovery<a href="#state-recovery" class="hash-link" aria-label="Direct link to State Recovery" title="Direct link to State Recovery">​</a></h3>
<p>When an exception occurs, the framework layer will perform FailOver, and State will automatically roll back to the latest state. Depending on the choice of the persistence layer as mentioned above, State data will be retrieved and loaded from the corresponding distributed file storage or object storage.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-types-of-state">The Types of State<a href="#the-types-of-state" class="hash-link" aria-label="Direct link to The Types of State" title="Direct link to The Types of State">​</a></h2>
<p>State can be roughly divided into Graph State and Key State, corresponding to different data structures and mapping to different storage models in the Store layer. For example, for the store type of Rocksdb, there will be different types of storage models such as KV and Graph.</p>
<p><img decoding="async" loading="lazy" alt="state_type" src="/tugraph-analytics/assets/images/state_type-d6781576f91671f15511f483ffeda59d.png" width="916" height="445" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="graph-state">Graph State<a href="#graph-state" class="hash-link" aria-label="Direct link to Graph State" title="Direct link to Graph State">​</a></h3>
<p>Graph State can be further classified into StaticGraph and DynamicGraph, based on whether it is a dynamic graph or not.
The difference is that StaticGraph treats the entire graph as a complete one, and all operations are performed on the complete graph.
On the other hand, DynamicGraph considers the graph to be dynamic, consisting of slice graphs that form a complete graph.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="static-graph-state">Static Graph State<a href="#static-graph-state" class="hash-link" aria-label="Direct link to Static Graph State" title="Direct link to Static Graph State">​</a></h4>
<p>StaticGraphState API is divided into several parts, including query, upsert, delete, and manage.</p>
<ul>
<li>
<p>query: Graph query, which allows users to flexibly query GraphState from multiple dimensions such as nodes, edges, nodes and outbound edges. It can be a random or global query, and different pushdown conditions can be added. The final return value can be an iterator or a list.</p>
</li>
<li>
<p>upsert: Adding nodes or edges.</p>
</li>
<li>
<p>delete: Deleting a certain node or ID.</p>
</li>
<li>
<p>manage: Divided into operator and other operations. Operator is the data operation of the State, which can perform flushing persistence or recovery. Other operations include obtaining information such as summary and metrics.</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dynamic-graph-state">Dynamic Graph State<a href="#dynamic-graph-state" class="hash-link" aria-label="Direct link to Dynamic Graph State" title="Direct link to Dynamic Graph State">​</a></h4>
<p>DynamicGraphState API is similar to StaticGraphState, but each node and edge is associated with a version number.</p>
<p>At the same time, Dynamic Graph State also adds version-related queries, which can obtain all versions or the latest version corresponding to certain nodes, and can obtain the specific values of each version.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-state">Key State<a href="#key-state" class="hash-link" aria-label="Direct link to Key State" title="Direct link to Key State">​</a></h3>
<p>KeyState API is divided into several parts, including:</p>
<ul>
<li>KeyValueState</li>
<li>KeyListState</li>
<li>KeyMapState</li>
</ul>
<p>Each corresponds to a different user-level data structure. Similar to GraphState, KeyState also provides the ability to query, upsert, delete, and manage, but the query does not provide complex query semantic information like GraphState. Different State data structures have differences in querying and storage. For example, KMap allows modification and querying of a single subkey, while KV modifies and queries the entire value.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/tugraph-analytics/en/concepts/framework_principle"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Framework Architecture</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tugraph-analytics/en/concepts/console_principle"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">GeaFlow Console Platform</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#state-management-in-geaflow" class="table-of-contents__link toc-highlight">State Management in Geaflow</a><ul><li><a href="#state-architecture" class="table-of-contents__link toc-highlight">State Architecture</a></li></ul></li><li><a href="#state-operational-process" class="table-of-contents__link toc-highlight">State Operational Process</a><ul><li><a href="#state-creation" class="table-of-contents__link toc-highlight">State Creation</a></li><li><a href="#state-read-and-write" class="table-of-contents__link toc-highlight">State Read and Write</a></li><li><a href="#state-persistency" class="table-of-contents__link toc-highlight">State Persistency</a></li><li><a href="#state-recovery" class="table-of-contents__link toc-highlight">State Recovery</a></li></ul></li><li><a href="#the-types-of-state" class="table-of-contents__link toc-highlight">The Types of State</a><ul><li><a href="#graph-state" class="table-of-contents__link toc-highlight">Graph State</a></li><li><a href="#key-state" class="table-of-contents__link toc-highlight">Key State</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>