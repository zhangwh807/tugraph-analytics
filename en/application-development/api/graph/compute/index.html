<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-en docs-version-current docs-doc-page docs-doc-id-application-development/api/graph/compute" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Graph Compute Introduction | TuGraph Analytics</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://liukaiming-alipay.github.io/tugraph-analytics/en/application-development/api/graph/compute"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-en-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-en-current"><meta data-rh="true" property="og:title" content="Graph Compute Introduction | TuGraph Analytics"><meta data-rh="true" name="description" content="GeaFlow provides interfaces for implementing graph computing algorithms, and static or dynamic graph computing can be performed by implementing the corresponding interfaces. Users can define specific computing logic and maximum iteration times in the compute algorithm."><meta data-rh="true" property="og:description" content="GeaFlow provides interfaces for implementing graph computing algorithms, and static or dynamic graph computing can be performed by implementing the corresponding interfaces. Users can define specific computing logic and maximum iteration times in the compute algorithm."><link data-rh="true" rel="icon" href="https://mdn.alipayobjects.com/huamei_qcdryc/afts/img/A*AbamQ5lxv0IAAAAAAAAAAAAADgOBAQ/original"><link data-rh="true" rel="canonical" href="https://liukaiming-alipay.github.io/tugraph-analytics/en/application-development/api/graph/compute"><link data-rh="true" rel="alternate" href="https://liukaiming-alipay.github.io/tugraph-analytics/en/application-development/api/graph/compute" hreflang="en"><link data-rh="true" rel="alternate" href="https://liukaiming-alipay.github.io/tugraph-analytics/en/application-development/api/graph/compute" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://HO4M21RAQI-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/tugraph-analytics/blog/rss.xml" title="TuGraph Analytics RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/tugraph-analytics/blog/atom.xml" title="TuGraph Analytics Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="TuGraph Analytics" href="/tugraph-analytics/opensearch.xml">

<meta name="algolia-site-verification" content="4AB782AC2021573E"><link rel="stylesheet" href="/tugraph-analytics/assets/css/styles.58f3a227.css">
<script src="/tugraph-analytics/assets/js/runtime~main.b6dda648.js" defer="defer"></script>
<script src="/tugraph-analytics/assets/js/main.85c50c04.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/tugraph-analytics/"></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="docsearch-wrapper" style="display:flex;justify-content:center;flex-direction:column"><div style="display:flex;justify-content:space-between;margin-bottom:8px"><div class="itemWrapper"><div class="titleBlock"><span class="titleText">TuGraph Analytics</span><div class="downIcon"></div></div><div class="contentArea"><span id="engineDescription">Streaming Graph Computing Engine</span></div></div><div class="searchWrapper" aria-describedby=":R4llaqh:"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tugraph-analytics/en/guide">Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tugraph-analytics/en/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-analytics/en/quick_start/quick_start">Quick Start</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-analytics/en/concepts/glossary">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/tugraph-analytics/en/application-development/api/overview">Development</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/tugraph-analytics/en/application-development/api/overview">API</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/tugraph-analytics/en/application-development/api/overview">API Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-analytics/en/application-development/api/stream/source">Stream</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/tugraph-analytics/en/application-development/api/graph/traversal">Graph</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/tugraph-analytics/en/application-development/api/graph/traversal">Graph Traversal Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/tugraph-analytics/en/application-development/api/graph/compute">Graph Compute Introduction</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-analytics/en/application-development/dsl/overview">DSL</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-analytics/en/application-development/connector/common">Connector</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tugraph-analytics/en/application-development/chat_guide">Text2GQL Syntax Manual</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-analytics/en/deploy/install_guide">Deployment</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tugraph-analytics/en/contribution">Contribution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tugraph-analytics/en/contacts">Contacts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tugraph-analytics/en/thanks">Thanks</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-analytics/en/reference/vs_join">Reference</a></div></li></ul></nav></div></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/tugraph-analytics/en/guide"><div style="color:#1a1b2572">Docs</div></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Development</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">API</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Graph</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Graph Compute Introduction</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Graph Compute Introduction</h1></header>
<p>GeaFlow provides interfaces for implementing graph computing algorithms, and static or dynamic graph computing can be performed by implementing the corresponding interfaces. Users can define specific computing logic and maximum iteration times in the compute algorithm.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="dynamic-graph">Dynamic Graph<a href="#dynamic-graph" class="hash-link" aria-label="Direct link to Dynamic Graph" title="Direct link to Dynamic Graph">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="interface">Interface<a href="#interface" class="hash-link" aria-label="Direct link to Interface" title="Direct link to Interface">​</a></h3>






























<table><thead><tr><th>API</th><th>Interface Description</th><th>Input Parameter Description</th></tr></thead><tbody><tr><td>void init(IncGraphComputeContext&lt;K, VV, EV, M&gt; incGraphContext)</td><td>Graph computing initialization interface</td><td>incGraphContext: Context for incremental dynamic graph computing, where K represents the type of vertex ID, VV represents the type of vertex value, EV represents the type of edge value, and M represents the type of message to be sent</td></tr><tr><td>void evolve(K vertexId, TemporaryGraph&lt;K, VV, EV&gt; temporaryGraph)</td><td>First round iteration for incremental graph processing logic implementation</td><td>vertexId: The ID of the current vertex point, where K represents the type of vertex ID <br>temporaryGraph: Temporary incremental graph, where K represents the type of vertex ID, VV represents the type of vertex value, and EV represents the type of edge value</td></tr><tr><td>void compute(K vertexId, Iterator messageIterator)</td><td>Iterative computing interface</td><td>vertexId: The ID of the current computation point, where K represents the type of vertex ID</td></tr><tr><td>void finish(K vertexId, MutableGraph&lt;K, VV, EV&gt; mutableGraph)</td><td>Iterative computing complete interface</td><td>vertexId: The ID of the current computation vertex, where K represents the type of vertex ID <br>mutableGraph: Mutable graph, where K represents the type of vertex ID, VV represents the type of vertex value, and EV represents the type of edge value</td></tr></tbody></table>
<ul>
<li>Detailed interface</li>
</ul>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface IncVertexCentricFunction&lt;K, VV, EV, M&gt; extends Function {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   void evolve(K vertexId, TemporaryGraph&lt;K, VV, EV&gt; temporaryGraph);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   void compute(K vertexId, Iterator&lt;M&gt; messageIterator);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   void finish(K vertexId, MutableGraph&lt;K, VV, EV&gt; mutableGraph);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   interface IncGraphContext&lt;K, VV, EV, M&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       /** Get job id. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       long getJobId();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /** Get the current iterartion id. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        long getIterationId();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /** Get the runtime context. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RuntimeContext getRuntimeContext();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /** Get the mutable graph. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MutableGraph&lt;K, VV, EV&gt; getMutableGraph();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    	/** Get the temporary graph. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        TemporaryGraph&lt;K, VV, EV&gt; getTemporaryGraph();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /** Get the historical graph. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HistoricalGraph&lt;K, VV, EV&gt; getHistoricalGraph();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /** Send message to specified vertex. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        void sendMessage(K vertexId, M message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /** Send message to neighbors of current vertex. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        void sendMessageToNeighbors(M message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   interface TemporaryGraph&lt;K, VV, EV&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   /** Get vertex from temporary graph. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   IVertex&lt;K, VV&gt; getVertex();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /** Get the edges from incremental graph. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        List&lt;IEdge&lt;K, EV&gt;&gt; getEdges();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /** Update vertex value. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        void updateVertexValue(VV value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   interface HistoricalGraph&lt;K, VV, EV&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   /** Get the latest version id of graph state. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Long getLatestVersionId();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /** Get all versions of graph state. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        List&lt;Long&gt; getAllVersionIds();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /** Get all vertices. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Map&lt;Long, IVertex&lt;K, VV&gt;&gt; getAllVertex();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /** Get the all vertices of specified version. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Map&lt;Long, IVertex&lt;K, VV&gt;&gt; getAllVertex(List&lt;Long&gt; versions);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /** Get vertices of the graph data of a specified version that meet the filtering condition. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Map&lt;Long, IVertex&lt;K, VV&gt;&gt; getAllVertex(List&lt;Long&gt; versions, IVertexFilter&lt;K, VV&gt; vertexFilter);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /** Get snapshot of the graph data of a specified version. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        GraphSnapShot&lt;K, VV, EV&gt; getSnapShot(long version);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   interface GraphSnapShot&lt;K, VV, EV&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   /** Get the current version id. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   long getVersion();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   /** Get vertex. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   VertexQuery&lt;K, VV&gt; vertex();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   /** Get edges. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   EdgeQuery&lt;K, EV&gt; edges();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   interface MutableGraph&lt;K, VV, EV&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   /** Add a vertex to the graph and specify its version ID. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   void addVertex(long version, IVertex&lt;K, VV&gt; vertex);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   /** Add a edge to the graph and specify its version ID. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   void addEdge(long version, IEdge&lt;K, EV&gt; edge);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface IncVertexCentricComputeFunction&lt;K, VV, EV, M&gt; extends</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        IncVertexCentricFunction&lt;K, VV, EV, M&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void init(IncGraphComputeContext&lt;K, VV, EV, M&gt; incGraphContext);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    interface IncGraphComputeContext&lt;K, VV, EV, M&gt; extends IncGraphContext&lt;K, VV, EV, M&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        void collect(IVertex&lt;K, VV&gt; vertex);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class IncrGraphCompute {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   private static final Logger LOGGER = LoggerFactory.getLogger(IncrGraphCompute.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Environment environment = EnvironmentFactory.onLocalEnvironment();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      IPipelineResult result = submit(environment);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      result.get();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      environment.shutdown();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public static IPipelineResult&lt;?&gt; submit(Environment environment) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      final Pipeline pipeline = PipelineFactory.buildPipeline(environment);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      final String graphName = &quot;graph_view_name&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      GraphViewDesc graphViewDesc = GraphViewBuilder.createGraphView(graphName)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              .withShardNum(4)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              .withBackend(BackendType.RocksDB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              .withSchema(new GraphMetaType(IntegerType.INSTANCE, ValueVertex.class, Integer.class, ValueEdge.class, IntegerType.class))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      pipeline.withView(graphName, graphViewDesc);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      pipeline.submit(new PipelineTask() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         public void execute(IPipelineTaskContext pipelineTaskCxt) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Configuration conf = pipelineTaskCxt.getConfig();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            PWindowSource&lt;IVertex&lt;Integer, Integer&gt;&gt; vertices =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    // Extract vertex from edge file.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    pipelineTaskCxt.buildSource(new RecoverableFileSource&lt;&gt;(&quot;data/input/email_edge&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            line -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               String[] fields = line.split(&quot;,&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               IVertex&lt;Integer, Integer&gt; vertex1 = new ValueVertex&lt;&gt;(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                       Integer.valueOf(fields[0]), 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               IVertex&lt;Integer, Integer&gt; vertex2 = new ValueVertex&lt;&gt;(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                       Integer.valueOf(fields[1]), 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               return Arrays.asList(vertex1, vertex2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            }), SizeTumblingWindow.of(10000));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            PWindowSource&lt;IEdge&lt;Integer, Integer&gt;&gt; edges =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    pipelineTaskCxt.buildSource( new RecoverableFileSource&lt;&gt;(&quot;data/input/email_edge&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            line -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               String[] fields = line.split(&quot;,&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               IEdge&lt;Integer, Integer&gt; edge = new ValueEdge&lt;&gt;(Integer.valueOf(fields[0]),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                       Integer.valueOf(fields[1]), 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               return Collections.singletonList(edge);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            }), SizeTumblingWindow.of(5000));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            PGraphView&lt;Integer, Integer, Integer&gt; fundGraphView = pipelineTaskCxt.getGraphView(graphName);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            PIncGraphView&lt;Integer, Integer, Integer&gt; incGraphView = fundGraphView.appendGraph(vertices, edges);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            incGraphView.incrementalCompute(new IncGraphAlgorithms(3))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .getVertices()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .map(v -&gt; String.format(&quot;%s,%s&quot;, v.getId(), v.getValue()))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .sink(v -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                       LOGGER.info(&quot;result: {}&quot;, v);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return pipeline.execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public static class IncGraphAlgorithms extends IncVertexCentricCompute&lt;Integer, Integer, Integer, Integer&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      public IncGraphAlgorithms(long iterations) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         super(iterations);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      public IncVertexCentricComputeFunction&lt;Integer, Integer, Integer, Integer&gt; getIncComputeFunction() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         return new IncVertexCentricComputeFunction&lt;Integer, Integer, Integer, Integer&gt;() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            private IncGraphComputeContext&lt;Integer, Integer, Integer, Integer&gt; graphContext;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            public void init(IncGraphComputeContext&lt;Integer, Integer, Integer, Integer&gt; graphContext) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               this.graphContext = graphContext;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            public void evolve(Integer vertexId,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               TemporaryGraph&lt;Integer, Integer, Integer&gt; temporaryGraph) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               IVertex&lt;Integer, Integer&gt; vertex = temporaryGraph.getVertex();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               if (vertex != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  if (temporaryGraph.getEdges() != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     for (IEdge&lt;Integer, Integer&gt; edge : temporaryGraph.getEdges()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        graphContext.sendMessage(edge.getTargetId(), vertexId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            public void compute(Integer vertexId, Iterator&lt;Integer&gt; messageIterator) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               int max = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               while (messageIterator.hasNext()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  int value = messageIterator.next();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  max = Math.max(max, value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               graphContext.getTemporaryGraph().updateVertexValue(max);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            public void finish(Integer vertexId, MutableGraph&lt;Integer, Integer, Integer&gt; mutableGraph) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               IVertex&lt;Integer, Integer&gt; vertex = graphContext.getTemporaryGraph().getVertex();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               graphContext.collect(vertex);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      public VertexCentricCombineFunction&lt;Integer&gt; getCombineFunction() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         return null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="static-graph">Static Graph<a href="#static-graph" class="hash-link" aria-label="Direct link to Static Graph" title="Direct link to Static Graph">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="interface-1">Interface<a href="#interface-1" class="hash-link" aria-label="Direct link to Interface" title="Direct link to Interface">​</a></h3>

























<table><thead><tr><th>API</th><th>Interface Description</th><th>Input Parameter Description</th></tr></thead><tbody><tr><td>void init(VertexCentricComputeFuncContext&lt;K, VV, EV, M&gt; vertexCentricFuncContext)</td><td>Iterative computing initialization interface</td><td>vertexCentricFuncContext: Context for static graph computing, where K represents the type of vertex ID, VV represents the type of vertex value, EV represents the type of edge value, and M represents the type of message to be sent</td></tr><tr><td>void compute(K vertexId, Iterator messageIterator)</td><td>Iterative computing interface</td><td>vertexId: The ID of the current computation vertex, where K represents the type of vertex ID <br>messageIterator: All messages sent to the current vertex during iteration, where M represents the type of message defined during iterative computing</td></tr><tr><td>void finish()</td><td>Iterative computing complete interface</td><td>no</td></tr></tbody></table>
<ul>
<li>Detailed interface</li>
</ul>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public interface VertexCentricComputeFunction&lt;K, VV, EV, M&gt; extends VertexCentricFunction&lt;K, VV,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EV, M&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void init(VertexCentricComputeFuncContext&lt;K, VV, EV, M&gt; vertexCentricFuncContext);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void compute(K vertex, Iterator&lt;M&gt; messageIterator);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void finish();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    interface VertexCentricComputeFuncContext&lt;K, VV, EV, M&gt; extends VertexCentricFuncContext&lt;K, VV,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        EV, M&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    	/** Set new vertex value. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        void setNewVertexValue(VV value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-1">Example<a href="#example-1" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class StaticsGraphCompute {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      	Environment environment = EnvironmentFactory.onLocalEnvironment();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        IPipelineResult result = submit(environment);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        result.get();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        environment.shutdown();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static IPipelineResult&lt;?&gt; submit(Environment environment) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Pipeline pipeline = PipelineFactory.buildPipeline(environment);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pipeline.submit((PipelineTask) pipelineTaskCxt -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            PWindowSource&lt;IVertex&lt;Integer, Integer&gt;&gt; prVertices =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                pipelineTaskCxt.buildSource(new FileSource&lt;&gt;(&quot;data/input/email_vertex&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    line -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        String[] fields = line.split(&quot;,&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        IVertex&lt;Integer, Integer&gt; vertex = new ValueVertex&lt;&gt;(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            Integer.valueOf(fields[0]), Integer.valueOf(fields[1]));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        return Collections.singletonList(vertex);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }), AllWindow.getInstance())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .withParallelism(2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            PWindowSource&lt;IEdge&lt;Integer, Integer&gt;&gt; prEdges = pipelineTaskCxt.buildSource(new FileSource&lt;&gt;(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;data/input/email_edge&quot;, line -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                String[] fields = line.split(&quot;,&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                IEdge&lt;Integer, Integer&gt; edge = new ValueEdge&lt;&gt;(Integer.valueOf(fields[0]), Integer.valueOf(fields[1]), 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return Collections.singletonList(edge);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }), AllWindow.getInstance()).withParallelism(2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            GraphViewDesc graphViewDesc = GraphViewBuilder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .createGraphView(GraphViewBuilder.DEFAULT_GRAPH)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .withShardNum(2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .withBackend(BackendType.Memory)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            PGraphWindow&lt;Integer, Integer, Integer&gt; graphWindow =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                pipelineTaskCxt.buildWindowStreamGraph(prVertices, prEdges, graphViewDesc);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            graphWindow.compute(new SSSPAlgorithm(1, 10))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .compute(2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .getVertices()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .sink(v -&gt; {});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return pipeline.execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static class SSSPAlgorithm extends VertexCentricCompute&lt;Integer, Integer, Integer, Integer&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        private final int srcId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public SSSPAlgorithm(int srcId, long iterations) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            super(iterations);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.srcId = srcId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public VertexCentricComputeFunction&lt;Integer, Integer, Integer, Integer&gt; getComputeFunction() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return new VertexCentricComputeFunction&lt;Integer, Integer, Integer, Integer&gt;() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                private VertexCentricComputeFuncContext&lt;Integer, Integer, Integer, Integer&gt; context;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                public void init(VertexCentricComputeFuncContext&lt;Integer, Integer, Integer, Integer&gt; vertexCentricFuncContext) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    this.context = vertexCentricFuncContext;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                public void compute(Integer vertex, Iterator&lt;Integer&gt; messageIterator) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    int minDistance = vertex == srcId ? 0 : Integer.MAX_VALUE;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (messageIterator != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        while (messageIterator.hasNext()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            Integer value = messageIterator.next();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            minDistance = Math.min(minDistance, value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    IVertex&lt;Integer, Integer&gt; iVertex = this.context.vertex().get();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (minDistance &lt; iVertex.getValue()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        this.context.setNewVertexValue(minDistance);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        for (IEdge&lt;Integer, Integer&gt; edge : this.context.edges().getOutEdges()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            this.context.sendMessage(edge.getTargetId(), minDistance + edge.getValue());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                public void finish() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public VertexCentricCombineFunction&lt;Integer&gt; getCombineFunction() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/tugraph-analytics/en/application-development/api/graph/traversal"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Graph Traversal Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tugraph-analytics/en/application-development/dsl/overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Hybrid-DSL Introduction</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#dynamic-graph" class="table-of-contents__link toc-highlight">Dynamic Graph</a><ul><li><a href="#interface" class="table-of-contents__link toc-highlight">Interface</a></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li></ul></li><li><a href="#static-graph" class="table-of-contents__link toc-highlight">Static Graph</a><ul><li><a href="#interface-1" class="table-of-contents__link toc-highlight">Interface</a></li><li><a href="#example-1" class="table-of-contents__link toc-highlight">Example</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>